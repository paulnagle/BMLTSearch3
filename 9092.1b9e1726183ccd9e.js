"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9092,1172,8791],{1172:(P,g,i)=>{i.d(g,{Q:()=>t});var c=i(316),M=i(1752),o=i(4111),u=i(4456),L=i(8559);let t=(()=>{var d;class v{}return(d=v).\u0275fac=function(h){return new(h||d)},d.\u0275mod=L.$C({type:d}),d.\u0275inj=L.G2t({imports:[c.MD,o.bv,M.h,u.YN]}),v})()},9092:(P,g,i)=>{i.r(g),i.d(g,{LocationSearchPageModule:()=>D});var c=i(316),M=i(4456),o=i(4111),u=i(1062),L=i(8321),t=i(8559),d=i(3146),v=i(7038),m=i(7291),h=i(1752),S=i(7722),C=i(1807);function R(e,a){1&e&&t.nrm(0,"div")}function I(e,a){1&e&&(t.j41(0,"div",11)(1,"ion-item",12)(2,"b"),t.EFF(3),t.nI1(4,"translate"),t.k0s()()()),2&e&&(t.Y8G("ngClass","one"),t.R7$(3),t.JRh(t.bMT(4,2,"NO_LOCATION")))}function T(e,a){if(1&e&&(t.j41(0,"div"),t.nrm(1,"app-meeting-list",14),t.k0s()),2&e){const r=t.XpG(2);t.R7$(),t.Y8G("data",r.addressMeetingList)}}function G(e,a){if(1&e&&(t.j41(0,"div"),t.DNE(1,T,2,1,"div",13),t.k0s()),2&e){const r=t.XpG();t.R7$(),t.Y8G("ngIf",r.isLoaded)}}const O=[{path:"",component:(()=>{var e;class a{constructor(s,n,p,f,U){this.MeetingListService=s,this.loaderCtrl=n,this.storage=p,this.translate=f,this.GeocodeService=U,this.shownGroup=null,this.isLoaded=!1,this.currentAddress="",this.addressLatitude=0,this.addressLongitude=0,this.radiusMeters=1e4,this.meetingsListGrouping="weekday_tinyint",this.storage.get("searchRange").then(l=>{this.radius=l||25}),this.storage.get("savedAddressLat").then(l=>{l?(this.addressLatitude=l,this.storage.get("savedAddressLng").then(A=>{A?(this.addressLongitude=A,this.storage.get("savedAddress").then(E=>{E?(this.currentAddress=E,this.locatePhone()):this.locatePhone()})):this.locatePhone()})):this.locatePhone()})}getAllMeetingsAfterLocate(){this.MeetingListService.getAddressMeetings(this.addressLatitude,this.addressLongitude,this.radius).then(s=>{this.addressMeetingList=s.data,this.isLoaded=!0,this.dismissLoader()})}presentLoader(s){this.loader||(this.loader=this.loaderCtrl.present(s))}dismissLoader(){this.loader&&(this.loader=this.loaderCtrl.dismiss(),this.loader=null)}locatePhone(){this.translate.get("LOCATING").subscribe(s=>{this.presentLoader(s)}),L.L.getCurrentPosition().then(s=>{this.addressLatitude=s.coords.latitude,this.addressLongitude=s.coords.longitude,this.storage.set("savedAddressLat",this.addressLatitude),this.storage.set("savedAddressLng",this.addressLongitude),this.GeocodeService.convertLatLong(this.addressLatitude,this.addressLongitude).subscribe(n=>{this.currentAddress=n,this.currentAddress.results[0]?(this.currentAddress=this.currentAddress.results[0].formatted_address,this.storage.set("savedAddress",this.currentAddress),this.dismissLoader(),this.getAllMeetingsAfterLocate()):(this.dismissLoader(),this.currentAddress="Location not found")})}).catch(s=>{console.log("Error getting location",s),this.currentAddress="Location not found",this.dismissLoader()})}getAllMeetings(s){this.radius=s.detail.value,this.presentLoader(""),this.MeetingListService.getAddressMeetings(this.addressLatitude,this.addressLongitude,this.radius).then(n=>{this.addressMeetingList=n.data,this.isLoaded=!0,this.dismissLoader()})}}return(e=a).\u0275fac=function(s){return new(s||e)(t.rXU(d.X),t.rXU(v.U),t.rXU(m.n),t.rXU(h.c$),t.rXU(S.a))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-location-search"]],decls:29,vars:18,consts:[["color","primary"],["slot","start"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"ngClass",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"no-padding"],[1,"text-wrap"],["id","RadiusRange","min","5","max","50","pin","true","debounce","500",3,"ionKnobMoveEnd","value"],["color","primary","slot","start"],["color","primary","slot","end"],[3,"ngClass"],["text-wrap",""],[4,"ngIf"],["meetingType","regular","expandAll","false",3,"data"]],template:function(s,n){1&s&&(t.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),t.nrm(3,"ion-menu-button"),t.k0s(),t.j41(4,"ion-title"),t.EFF(5),t.nI1(6,"translate"),t.k0s()()(),t.j41(7,"ion-content")(8,"div",2),t.DNE(9,R,1,0,"div",3)(10,I,5,4,"div",4)(11,G,2,1,"div",5),t.k0s()(),t.j41(12,"ion-footer",6)(13,"ion-toolbar",6)(14,"ion-grid")(15,"ion-row")(16,"ion-col")(17,"ion-item",7),t.EFF(18),t.nI1(19,"translate"),t.j41(20,"b"),t.EFF(21),t.k0s()()()()(),t.j41(22,"ion-range",8),t.bIt("ionKnobMoveEnd",function(f){return n.getAllMeetings(f)}),t.j41(23,"ion-label",9),t.EFF(24),t.nI1(25,"translate"),t.k0s(),t.j41(26,"ion-label",10),t.EFF(27),t.nI1(28,"translate"),t.k0s()()()()),2&s&&(t.R7$(5),t.SpI(" ",t.bMT(6,10,"LOCATIONSEARCH")," "),t.R7$(3),t.FS9("ngSwitch",n.currentAddress),t.R7$(),t.Y8G("ngSwitchCase",""),t.R7$(),t.Y8G("ngSwitchCase","Location not found"),t.R7$(8),t.Lme(" ",n.radius," ",t.bMT(19,12,"MEETINGS_NEAREST")," "),t.R7$(3),t.SpI('\xa0"',n.currentAddress,'"'),t.R7$(),t.Y8G("value",n.radius),t.R7$(2),t.SpI("5 ",t.bMT(25,14,"MEETINGS"),""),t.R7$(3),t.SpI("50 ",t.bMT(28,16,"MEETINGS"),""))},dependencies:[c.YU,c.bT,c.ux,c.e1,c.fG,o.QW,o.hU,o.W9,o.M0,o.lO,o.eU,o.uz,o.he,o.MC,o.Ob,o.ln,o.BC,o.ai,o.Gw,C.$,h.D9]}),a})()}];let F=(()=>{var e;class a{}return(e=a).\u0275fac=function(s){return new(s||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[u.iI.forChild(O),u.iI]}),a})();var $=i(1172);let D=(()=>{var e;class a{}return(e=a).\u0275fac=function(s){return new(s||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({providers:[d.X,Geolocation,S.a,m.n],imports:[c.MD,M.YN,o.bv,h.h,F,$.Q]}),a})()}}]);
//# sourceMappingURL=9092.1b9e1726183ccd9e.js.map