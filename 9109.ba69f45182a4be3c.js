"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9109,6394,4898],{6394:(E,g,i)=>{i.d(g,{D:()=>t});var c=i(6575),A=i(2225),o=i(3890),u=i(8849),L=i(9039);let t=(()=>{var d;class v{}return(d=v).\u0275fac=function(l){return new(l||d)},d.\u0275mod=L.oAB({type:d}),d.\u0275inj=L.cJS({imports:[c.ez,o.Pc,A.aw,u.u5]}),v})()},9109:(E,g,i)=>{i.r(g),i.d(g,{LocationSearchPageModule:()=>y});var c=i(6575),A=i(8849),o=i(3890),u=i(8080),L=i(904),t=i(9039),d=i(6687),v=i(2548),m=i(9140),l=i(2225),p=i(6786),T=i(5401);function C(e,a){1&e&&t._UZ(0,"div")}function Z(e,a){1&e&&(t.TgZ(0,"div",11)(1,"ion-item",12)(2,"b"),t._uU(3),t.ALo(4,"translate"),t.qZA()()()),2&e&&(t.Q6J("ngClass","one"),t.xp6(3),t.Oqu(t.lcZ(4,2,"NO_LOCATION")))}function x(e,a){if(1&e&&(t.TgZ(0,"div"),t._UZ(1,"app-meeting-list",14),t.qZA()),2&e){const r=t.oxw(2);t.xp6(),t.Q6J("data",r.addressMeetingList)}}function O(e,a){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,x,2,1,"div",13),t.qZA()),2&e){const r=t.oxw();t.xp6(),t.Q6J("ngIf",r.isLoaded)}}const I=[{path:"",component:(()=>{var e;class a{constructor(s,n,M,f,U){this.MeetingListService=s,this.loaderCtrl=n,this.storage=M,this.translate=f,this.GeocodeService=U,this.shownGroup=null,this.isLoaded=!1,this.currentAddress="",this.addressLatitude=0,this.addressLongitude=0,this.radiusMeters=1e4,this.meetingsListGrouping="weekday_tinyint",this.storage.get("searchRange").then(h=>{this.radius=h||25}),this.storage.get("savedAddressLat").then(h=>{h?(this.addressLatitude=h,this.storage.get("savedAddressLng").then(S=>{S?(this.addressLongitude=S,this.storage.get("savedAddress").then(P=>{P?(this.currentAddress=P,this.locatePhone()):this.locatePhone()})):this.locatePhone()})):this.locatePhone()})}getAllMeetingsAfterLocate(){this.MeetingListService.getAddressMeetings(this.addressLatitude,this.addressLongitude,this.radius).then(s=>{this.addressMeetingList=s.data,this.isLoaded=!0,this.dismissLoader()})}presentLoader(s){this.loader||(this.loader=this.loaderCtrl.present(s))}dismissLoader(){this.loader&&(this.loader=this.loaderCtrl.dismiss(),this.loader=null)}locatePhone(){this.translate.get("LOCATING").subscribe(s=>{this.presentLoader(s)}),L.b.getCurrentPosition().then(s=>{this.addressLatitude=s.coords.latitude,this.addressLongitude=s.coords.longitude,this.storage.set("savedAddressLat",this.addressLatitude),this.storage.set("savedAddressLng",this.addressLongitude),this.GeocodeService.convertLatLong(this.addressLatitude,this.addressLongitude).subscribe(n=>{this.currentAddress=n,this.currentAddress.results[0]?(this.currentAddress=this.currentAddress.results[0].formatted_address,this.storage.set("savedAddress",this.currentAddress),this.dismissLoader(),this.getAllMeetingsAfterLocate()):(this.dismissLoader(),this.currentAddress="Location not found")})}).catch(s=>{console.log("Error getting location",s),this.currentAddress="Location not found",this.dismissLoader()})}getAllMeetings(s){this.radius=s.detail.value,this.presentLoader(""),this.MeetingListService.getAddressMeetings(this.addressLatitude,this.addressLongitude,this.radius).then(n=>{this.addressMeetingList=n.data,this.isLoaded=!0,this.dismissLoader()})}}return(e=a).\u0275fac=function(s){return new(s||e)(t.Y36(d.q),t.Y36(v.b),t.Y36(m.V),t.Y36(l.sK),t.Y36(p.M))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-location-search"]],decls:29,vars:18,consts:[["color","primary"],["slot","start"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"ngClass",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"no-padding"],[1,"text-wrap"],["id","RadiusRange","min","5","max","50","pin","true","debounce","500",3,"value","ionKnobMoveEnd"],["color","primary","slot","start"],["color","primary","slot","end"],[3,"ngClass"],["text-wrap",""],[4,"ngIf"],["meetingType","regular","expandAll","false",3,"data"]],template:function(s,n){1&s&&(t.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),t._UZ(3,"ion-menu-button"),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.TgZ(7,"ion-content")(8,"div",2),t.YNc(9,C,1,0,"div",3)(10,Z,5,4,"div",4)(11,O,2,1,"div",5),t.qZA()(),t.TgZ(12,"ion-footer",6)(13,"ion-toolbar",6)(14,"ion-grid")(15,"ion-row")(16,"ion-col")(17,"ion-item",7),t._uU(18),t.ALo(19,"translate"),t.TgZ(20,"b"),t._uU(21),t.qZA()()()()(),t.TgZ(22,"ion-range",8),t.NdJ("ionKnobMoveEnd",function(f){return n.getAllMeetings(f)}),t.TgZ(23,"ion-label",9),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"ion-label",10),t._uU(27),t.ALo(28,"translate"),t.qZA()()()()),2&s&&(t.xp6(5),t.hij(" ",t.lcZ(6,10,"LOCATIONSEARCH")," "),t.xp6(3),t.s9C("ngSwitch",n.currentAddress),t.xp6(),t.Q6J("ngSwitchCase",""),t.xp6(),t.Q6J("ngSwitchCase","Location not found"),t.xp6(8),t.AsE(" ",n.radius," ",t.lcZ(19,12,"MEETINGS_NEAREST")," "),t.xp6(3),t.hij('\xa0"',n.currentAddress,'"'),t.xp6(),t.Q6J("value",n.radius),t.xp6(2),t.hij("5 ",t.lcZ(25,14,"MEETINGS"),""),t.xp6(3),t.hij("50 ",t.lcZ(28,16,"MEETINGS"),""))},dependencies:[c.mk,c.O5,c.RF,c.n9,c.ED,o.Sm,o.wI,o.W2,o.fr,o.jY,o.Gu,o.Ie,o.Q$,o.fG,o.I_,o.Nd,o.wd,o.sr,o.j9,T.D,l.X$]}),a})()}];let D=(()=>{var e;class a{}return(e=a).\u0275fac=function(s){return new(s||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.Bz.forChild(I),u.Bz]}),a})();var R=i(6394);let y=(()=>{var e;class a{}return(e=a).\u0275fac=function(s){return new(s||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[d.q,Geolocation,p.M,m.V],imports:[c.ez,A.u5,o.Pc,l.aw,D,R.D]}),a})()}}]);
//# sourceMappingURL=9109.ba69f45182a4be3c.js.map